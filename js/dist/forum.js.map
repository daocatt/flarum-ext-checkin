{"version":3,"file":"forum.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDR,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFf,EAAyBM,IACH,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,GAAO,G,qDCL9D,MAAM,EAA+BC,OAAOC,KAAKC,OAAO,a,aCAnBF,OAAOC,KAAKC,OAAe,OCA3BF,OAAOC,KAAKC,OAAO,qBCAnBF,OAAOC,KAAKC,OAAO,2BFAxD,MGAM,EAA+BF,OAAOC,KAAKC,OAAc,M,aCA/D,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,e,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,8B,aCAzC,SAASC,EAAgBhB,EAAGiB,GAMzC,OALAD,EAAkBf,OAAOiB,gBAAkB,SAAyBlB,EAAGiB,GAErE,OADAjB,EAAEmB,UAAYF,EACPjB,CACT,EAEOgB,EAAgBhB,EAAGiB,EAC5B,CCNe,SAASG,EAAeC,EAAUC,GAC/CD,EAASd,UAAYN,OAAOsB,OAAOD,EAAWf,WAC9Cc,EAASd,UAAUiB,YAAcH,EACjCH,EAAeG,EAAUC,EAC3B,CCLA,MAAM,EAA+BT,OAAOC,KAAKC,OAAO,oB,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCQnCU,EAAa,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,KAAAR,EAAAK,EAAAC,GAAA,IAAAG,EAAAJ,EAAAlB,UAsC/B,OAtC+BsB,EAChCC,OAAA,SAAOC,GACLL,EAAAnB,UAAMuB,OAAMrB,KAAC,KAAAsB,GAEbC,KAAKC,MAAQD,KAAKE,MAAMD,KAE1B,EAACJ,EAEDM,KAAA,WACE,IAAMC,EAAMJ,KAAKC,MAEbI,EAAoBC,IAAAA,WAAeC,MAAM,gCACvCC,EAAqBF,IAAAA,QAAYG,KAAKC,UAAU,sBAEtD,MAAW,YAARN,EAIKO,IAAAA,UAAiB,CACbC,KAAM,sBACNC,UAAW,6CACXC,GAAG,gBACHC,QAAST,IAAAA,cACRD,IAKTA,EAAoBC,IAAAA,WAAeC,MAAM,oCAAqC,CAACS,MAAOR,IAElFG,IAAAA,UAAiB,CACbC,KAAM,sBACNC,UAAW,8CACXI,UAAU,GACTZ,GAIf,EAACZ,CAAA,CAtC+B,CAASyB,KCR3C,MAAM,EAA+BrC,OAAOC,KAAKC,OAAO,oC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,0C,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,sC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,uB,aCSnCoC,EAAW,SAAAzB,GAAA,SAAAyB,IAAA,OAAAzB,EAAAC,MAAA,KAAAC,YAAA,KAAAR,EAAA+B,EAAAzB,GAAA,IAAAG,EAAAsB,EAAA5C,UAwH7B,OAxH6BsB,EAE9BC,OAAA,SAAOC,GACLL,EAAAnB,UAAMuB,OAAMrB,KAAC,KAAAsB,GAEbC,KAAKC,MAAQD,KAAKE,MAAMD,KAE1B,EAACJ,EAEDuB,YAAA,WAEE,IACIC,EASAC,EAAWC,QAAQC,MACP,IAAbF,IACDA,EAAW,GAEbD,EAAWE,QAAQE,SAASH,EAAS,EAAE,OAIvC,IAAMI,EAAc,GACpBA,EAAYC,KAAKN,EAASO,OAAO,eAGjC,IADA,IAAIC,EAAI,EACFA,GANa,GAOjBH,EAAYC,KAAKN,EAASS,IAAID,EAAG,OAAOD,OAAO,eAC/CC,IAGF,OAAOH,CACT,EAAC7B,EAEDM,KAAA,WACE,IAAM4B,EAAW/B,KAAKC,MAAM+B,OAAS,GAC/BC,EAAe3B,IAAAA,QAAYG,KAAKC,UAAU,gBAC1CgB,EAAc1B,KAAKoB,cACzB,OACEc,EAAA,OAAKrB,UAAU,gCACbqB,EAAA,OAAKrB,UAAU,2BACbqB,EAAA,MAAIrB,UAAU,2CAA2CP,IAAAA,WAAeC,MAAM,sCAEhF2B,EAAA,OAAKrB,UAAU,4BACbqB,EAAA,MAAIrB,UAAU,6BACXkB,EAASI,OAAS,EACjBJ,EAASK,KAAI,SAACC,EAAYC,GACxB,IAAMC,EAAeF,EAAYvB,KAAK,EAAE,UAAU,UAElD,OACEoB,EAAA,MAAIrB,UAAW0B,EAAe,UAAUR,EAASI,OAAQK,MAAOD,GAEzDF,EAAYvB,KAAO,EAChBoB,EAAA,YACEA,EAAA,OAAKrB,UAAU,wBACbqB,EAAA,YACCX,MAAMc,EAAYI,gBAAgBb,OAAO,UAE1CM,EAAA,YAAOX,MAAMc,EAAYI,gBAAgBb,OAAO,SAElDM,EAAA,OAAKrB,UAAU,wBACZD,IAAK,cAAe,CAAEC,UAAW,wBAIxCqB,EAAA,YACEA,EAAA,OAAKrB,UAAU,wBACbqB,EAAA,YACCX,MAAMG,EAAYY,IAAOV,OAAO,UAEjCM,EAAA,YAAOX,MAAMG,EAAYY,IAAOV,OAAO,SAEzCM,EAAA,OAAKrB,UAAU,wBAEZU,QAAQmB,QAAQhB,EAAYY,GAAM,OACjC1B,IAAK,eAAgB,CAAEC,UAAW,sBAElCD,IAAK,cAAe,CAAEC,UAAW,wBAUnD,IACGb,KAAKC,MAAM0C,QAGdT,EAACU,IAAgB,CAAC/B,UAAU,4BAF5BqB,EAAA,OAAKrB,UAAU,0BAA0BP,IAAAA,WAAeC,MAAM,qCAMlE2B,EAAA,OAAKrB,UAAU,YACZP,IAAAA,WAAeC,MAAM,kCAAmC,CAACS,MAAOV,IAAAA,QAAYG,KAAKC,UAAU,wBAAwB,IAACwB,EAAA,WAErE,IAA9C5B,IAAAA,MAAUI,UAAU,yBAClBJ,IAAAA,WAAeC,MAAM,kDAAmD,CAACS,MAAOV,IAAAA,QAAYG,KAAKC,UAAU,6BAIjHwB,EAAA,OAAKrB,UAAU,cACZoB,EACCC,EAACzC,EAAa,CAACQ,MAAM,YAErBiC,EAACzC,EAAa,CAACQ,MAAM,eAMjC,EAACkB,CAAA,CAxH6B,CAASD,KCHpB2B,EAAY,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAnD,MAAA,KAAAC,YAAA,KAAAR,EAAAyD,EAAAC,GAAAD,EACxBE,UAAP,SAAiB7C,GACfA,EAAM8C,MAAQ9C,EAAM8C,OAAS1C,IAAAA,WAAeC,MAAM,gCAClDL,EAAMU,KAAOV,EAAMU,MAAQ,sBAC3BV,EAAM+C,cAAgB,gBACtBH,EAAMC,UAAStE,KAAC,KAAAyB,EAClB,EAUA,IAAAL,EAAAgD,EAAAtE,UAwBC,OAxBDsB,EAEAqD,QAAA,WACE,OACEhB,EAAA,OAAKrB,UAAW,iBAAmBb,KAAKE,MAAM+C,cAAelC,QAASf,KAAKmD,UAAUC,KAAKpD,OACvFA,KAAKqD,SAAWnB,EAACf,EAAW,CAAClB,MAAOD,KAAKE,MAAMD,QAGtD,EAACJ,EAIDyD,UAAA,WACEpB,EAAEqB,MAAMC,IAAIlD,IAAAA,MAAU,mBAAoB,CACxCmD,SAAUnD,IAAAA,QAAYG,KAAKgD,aAE/B,EAAC5D,EAED6D,eAAA,WACE,OAAO,CACT,EAAC7D,EAED8D,YAAA,WACI,OAAO,CACX,EAACd,CAAA,CAxC8B,CAASe,KCN1C,MAAM,EAA+B/E,OAAOC,KAAKC,OAAO,mB,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAkB,U,aCAnE,MAAM,EAA+BF,OAAOC,KAAKC,OAAY,I,aCA7D,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,+B,aCOnC8E,EAAc,SAAAnE,GAAA,SAAAmE,IAAA,OAAAnE,EAAAC,MAAA,KAAAC,YAAA,KAAAR,EAAAyE,EAAAnE,GAAA,IAAAG,EAAAgE,EAAAtF,UAyHhC,OAzHgCsB,EACjCC,OAAA,SAAOC,GACLL,EAAAnB,UAAMuB,OAAMrB,KAAC,KAAAsB,GACbC,KAAKC,MAAQD,KAAKE,MAAMD,KAC1B,EAACJ,EAEDuB,YAAA,WAEE,IACIC,EASAC,EAAWC,QAAQC,MACP,IAAbF,IACDA,EAAW,GAEbD,EAAWE,QAAQE,SAASH,EAAS,EAAE,OAIvC,IAAMI,EAAc,GACpBA,EAAYC,KAAKN,EAASO,OAAO,eAGjC,IADA,IAAIC,EAAI,EACFA,GANa,GAOjBH,EAAYC,KAAKN,EAASS,IAAID,EAAG,OAAOD,OAAO,eAC/CC,IAGF,OAAOH,CACT,EAAC7B,EAEDM,KAAA,WACE,IAAM4B,EAAW/B,KAAKC,MAAM+B,OAAS,GAErC,GAAG1B,IAAAA,QAAYG,KAAK,CAChB,IAAMwB,EAAe3B,IAAAA,QAAYG,KAAKC,UAAU,gBAC1CgB,EAAc1B,KAAKoB,cACzB,OACIc,EAAA,OAAKrB,UAAU,6CACXqB,EAAA,OAAKrB,UAAU,2BACXqB,EAAA,MAAIrB,UAAU,2CAA2CP,IAAAA,WAAeC,MAAM,kCAElF2B,EAAA,OAAKrB,UAAU,4BACXqB,EAAA,MAAIrB,UAAU,6BACTkB,EAASI,OAAS,EACnBJ,EAASK,KAAI,SAACC,EAAYC,GACtB,IAAMC,EAAeF,EAAYvB,KAAK,EAAE,UAAU,UAElD,OACAoB,EAAA,MAAIrB,UAAW0B,EAAe,UAAUR,EAASI,OAAQK,MAAOD,GAEvDF,EAAYvB,KAAO,EAChBoB,EAAA,YACAA,EAAA,OAAKrB,UAAU,wBACXqB,EAAA,YACCX,MAAMc,EAAYI,gBAAgBb,OAAO,UAE1CM,EAAA,YAAOX,MAAMc,EAAYI,gBAAgBb,OAAO,SAEpDM,EAAA,OAAKrB,UAAU,wBACVD,IAAK,cAAe,CAAEC,UAAW,wBAI1CqB,EAAA,YACIA,EAAA,OAAKrB,UAAU,wBACfqB,EAAA,YACCX,MAAMG,EAAYY,IAAOV,OAAO,UAEjCM,EAAA,YAAOX,MAAMG,EAAYY,IAAOV,OAAO,SAEvCM,EAAA,OAAKrB,UAAU,wBAEdU,QAAQmB,QAAQhB,EAAYY,GAAM,OAC/B1B,IAAK,eAAgB,CAAEC,UAAW,sBAElCD,IAAK,cAAe,CAAEC,UAAW,wBAUrD,IACKb,KAAK2C,QAGVT,EAACU,IAAgB,CAAC/B,UAAU,4BAF5BqB,EAAA,OAAKrB,UAAU,0BAA0BP,IAAAA,WAAeC,MAAM,qCAMlE2B,EAAA,OAAKrB,UAAU,YACVP,IAAAA,WAAeC,MAAM,kCAAmC,CAACS,MAAOV,IAAAA,QAAYG,KAAKC,UAAU,wBAAwB,IAACwB,EAAA,WAEvE,IAA9C5B,IAAAA,MAAUI,UAAU,yBAChBJ,IAAAA,WAAeC,MAAM,kDAAmD,CAACS,MAAOV,IAAAA,QAAYG,KAAKC,UAAU,6BAInHwB,EAAA,OAAKrB,UAAU,cACVoB,EACDC,EAACzC,EAAa,CAACQ,MAAM,YAErBiC,EAACzC,EAAa,CAACQ,MAAM,eAOzC,CACF,EAAC4D,CAAA,CAzHgC,CAAS3C,KCHvB4C,EAAkB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAApE,MAAA,KAAAC,YAAA,KAAAR,EAAA0E,EAAAC,GAAA,IAAAlE,EAAAiE,EAAAvF,UAsBlC,OAtBkCsB,EAEnCC,OAAA,SAAOC,GACHgE,EAAAxF,UAAMuB,OAAMrB,KAAC,KAAAsB,GAEbO,IAAAA,QAAYqB,KAAK,oBAEjBrB,IAAAA,SAAa0D,MACjB,EAACnE,EAEDoE,SAAA,SAASlE,GACPgE,EAAAxF,UAAM0F,SAAQxF,KAAC,KAAAsB,GACfO,IAAAA,SAAaA,IAAAA,WAAeC,MAAM,gCAEpC,EAACV,EAEDM,KAAA,WACE,OACE+B,EAAA,WACEA,EAAC2B,EAAc,CAAC5D,MAAOK,IAAAA,WAG7B,EAACwD,CAAA,CAtBkC,CAASI,KCJhD,MAAM,EAA+BrF,OAAOC,KAAKC,OAAO,oB,aCAnBF,OAAOC,KAAKC,OAAO,gBCEf,IAEpBoF,EAAmB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAzE,MAAA,KAAAC,YAAA,KAAAR,EAAA+E,EAAAC,GAAA,IAAAvE,EAAAsE,EAAA5F,UA0CrC,OA1CqCsB,EACtCC,OAAA,SAAOC,GACLqE,EAAA7F,UAAMuB,OAAMrB,KAAC,KAAAsB,EACf,EAACF,EAEDgB,UAAA,WACE,MAAO,2BACT,EAAChB,EAED2C,MAAA,WACE,OAAQN,EAAA,OAAKrB,UAAU,gBAAgBP,IAAI+D,WAAW9D,MAAM,gCAC9D,EAACV,EAEDyE,QAAA,WAEE,IAAM9D,EAAqBF,IAAIiE,QAAQ9D,KAAKC,UAAU,sBAChD8D,EAAgBlE,IAAImE,MAAM/D,UAAU,iBACpCgE,EAAqBpE,IAAImE,MAAM/D,UAAU,sBACzCiE,EAA2BrE,IAAImE,MAAM/D,UAAU,4BAIjDkE,EAAa,GACbC,EAAuB,wBACvBC,EAAsB,wBAY1B,MAVwB,KAArBJ,IACDG,EAAuB,6BAGA,SAXwDE,IAArDzE,IAAImE,MAAM/D,UAAU,iCAWY,KAA3BiE,IAE/BC,EAAaJ,GADDlE,IAAImE,MAAM/D,UAAU,gCAAkC,MAElEoE,EAAsB,2BAItB5C,EAAA,OAAKrB,UAAU,cACbqB,EAAA,OAAKrB,UAAWgE,GAAuBH,EAAmBM,QAAQ,SAAUxE,EAAmB,IAC/F0B,EAAA,OAAKrB,UAAWiE,GAAsBH,EAAyBK,QAAQ,WAAYJ,IAGzF,EAACT,CAAA,CA1CqC,CAASc,KCA5BC,EAAkB,SAAAd,GAAA,SAAAc,IAAA,OAAAd,EAAAzE,MAAA,KAAAC,YAAA,KAAAR,EAAA8F,EAAAd,GAAA,IAAAvE,EAAAqF,EAAA3G,UAoBpC,OApBoCsB,EACrCC,OAAA,SAAOC,GACLqE,EAAA7F,UAAMuB,OAAMrB,KAAC,KAAAsB,EACf,EAACF,EAEDgB,UAAA,WACE,MAAO,2BACT,EAAChB,EAED2C,MAAA,WACE,OAAQN,EAAA,OAAKrB,UAAU,eAAeP,IAAI+D,WAAW9D,MAAM,+BAC7D,EAACV,EAEDyE,QAAA,WAEE,OACEpC,EAAA,OAAKrB,UAAU,cACbqB,EAAA,OAAKrB,UAAU,aAAaP,IAAI+D,WAAW9D,MAAM,yCAGvD,EAAC2E,CAAA,CApBoC,CAASD,KCJhD,MAAM,EAA+BpG,OAAOC,KAAKC,OAAO,gB,aCGnCoG,EAAkB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAzF,MAAA,KAAAC,YAAA,YAAAR,EAAA+F,EAAAC,GAAAD,CAAA,EAASE,KAkBhDpH,OAAOqH,OAAOH,EAAmB5G,UAAW,CAC1CgH,QAAUF,IAAAA,UAAgB,WAC1BG,KAAOH,IAAAA,UAAgB,QACvBI,SAAWJ,IAAAA,UAAgB,YAC3B5C,aAAe4C,IAAAA,UAAgB,gBAC/BK,aAAeL,IAAAA,UAAgB,gBAC/BM,SAAUN,IAAAA,UAAgB,YAC1BO,OAAQP,IAAAA,UAAgB,UACxB5E,KAAO4E,IAAAA,OAAa,U,IC3BDQ,EAAgB,WACjC,SAAAA,EAAYvF,GACVN,KAAKM,IAAMA,EAOXN,KAAK2C,SAAU,CACjB,CA6BC,OA3BDkD,EAAAtH,UAIAyF,KAAA,WAAO,IAAA8B,EAAA,KAGD9F,KAAKgC,OAAShC,KAAKM,IAAIiE,QAAQ9D,KAAKC,UAAU,iBAC7Ca,MAAMvB,KAAKM,IAAIiE,QAAQ9D,KAAKC,UAAU,iBAAiBqF,OAAOxE,QAAQK,OAAO,cAAc,SAKhG5B,KAAK2C,SAAU,EACfT,EAAE8D,SAEFhG,KAAKM,IAAI2F,MACNC,KAAK,mBACLC,MAAK,SAACpE,GACL+D,EAAKxF,IAAIiE,QAAQ9D,KAAK2F,eAAe,CAAEC,aAAc9E,QAAQK,OAAO,gBACpEkE,EAAK9D,MAAQD,CACf,IAAE,OACK,WAAO,IACboE,MAAK,WACJL,EAAKnD,SAAU,EACfT,EAAE8D,QACJ,IACJ,EAACH,CAAA,CAvCgC,GCFrC,MAAM,EAA+BhH,OAAOC,KAAKC,OAAO,oBCGxD,IAEE,I,MAAIuH,GAAAA,QACDxE,IAAI,WAAYqD,ICerB7E,IAAAA,aAAiBwB,IAAI,kBAAkB,WAErCxB,IAAAA,MAAUiG,OAAOpB,mBAAqBA,EAEtC7E,IAAAA,OAAWkG,iBAAmB,CAC5BC,KAAM,+BACNC,UAAW5C,GAGbxD,IAAAA,SAAe,IAAIuF,EAAiBvF,KAEpCqG,IAAAA,UAAeC,WAAavB,IAAAA,UAAgB,gBAE5C/E,IAAAA,aAAmB,WACjB,IAAME,EAAqBF,IAAAA,QAAYG,KAAKC,UAAU,sBAChD8D,EAAgBlE,IAAAA,MAAUI,UAAU,iBACpCmG,EAAqBvG,IAAAA,MAAUI,UAAU,sBACzCgE,EAAqBpE,IAAAA,MAAUI,UAAU,sBACzCiE,EAA2BrE,IAAAA,MAAUI,UAAU,4BAE/CoG,OAA6E/B,IAAvDzE,IAAAA,MAAUI,UAAU,+BAC5CqG,EAAY,IACW,IAAxBD,IACDC,EAAYzG,IAAAA,MAAUI,UAAU,gCAAkC,MAGpE,IAAIsG,EAAa1G,IAAAA,WAAeC,MAAM,+BAA+B,IAAID,IAAAA,WAAeC,MAAM,wCAC9FD,IAAAA,QAAYG,KAAKwG,KAAK,CAAChF,cAAa,EAAMzB,mBAAmBA,EAAmB,IAC/E2F,MAAK,WACJ,GAAwB,IAArBU,EAAuB,CACxB,IAAIjC,EAAa,GACjB,GAAwB,KAArBF,EACD,KAAMwC,EAAqBxC,EAAmBM,QAAQ,SAAUxE,EAAmB,GACvDF,IAAAA,OAAW6G,KAAK,CAAC3B,KAAM,WAAY0B,EADsB,CAIvF,IAAyB,IAAtBJ,GAAyD,KAA3BnC,EAA8B,CAC7DC,EAAaJ,EAAgBuC,EAC7B,IAAMK,EAA2BzC,EAAyBK,QAAQ,WAAYJ,GAC5CtE,IAAAA,OAAW6G,KAAK,CAAC3B,KAAM,WAAY4B,EACvE,CACF,MAA8B,IAArBP,GACPvG,IAAAA,MAAU6G,KAAKE,EAEnB,IAAE,OACK,SAACC,GACN,IACsBC,EADdC,EAAWC,KAAKC,MAAMJ,EAAEK,IAAIC,UAA5BJ,OACLA,EAAOrF,OAAS,IACjB6E,EAAsB,OAAZO,EAAGC,EAAO,SAAE,EAATD,EAAWM,QAEF,IAArBhB,GACDvG,IAAAA,OAAW6G,KAAK,CAAC3B,KAAM,SAAUwB,GAEX,IAArBH,GACDvG,IAAAA,MAAU6G,KAAKW,EAEnB,GACF,GCtEEC,EAAAA,EAAAA,QAAOC,IAAAA,UAAqB,gBAAgB,SAASC,GAGnD,IAAIC,EAAW,gBAE+B,IAA3C5H,IAAImE,MAAM/D,UAAU,oBAAkD,OAArBJ,IAAIiE,QAAQ9D,OAAyD,IAAxCH,IAAImE,MAAM/D,UAAU,mBAI/E,IAFDJ,IAAIiE,QAAQ9D,KAAKC,UAAU,gBAG5CuH,EAAMnG,IAAIoG,EAAUhG,EAACzC,EAAa,CAACQ,MAAM,YAAa,IAEtDgI,EAAMnG,IAAIoG,EAAUhG,EAACzC,EAAa,CAACQ,MAAM,aAAc,IAI7D,KCfF8H,EAAAA,EAAAA,QAAOI,IAAAA,UAA2B,SAAS,SAACF,GAEI,IAA3C3H,IAAAA,MAAUI,UAAU,oBAAiD,OAArBJ,IAAAA,QAAYG,OAAyD,IAAxCH,IAAAA,MAAUI,UAAU,iBAClGuH,EAAMnG,IAAI,UAAWI,EAACW,EAAY,CAAC5C,MAAOK,IAAAA,WAAkB,GAGhE,GFsEF,G","sources":["webpack://@gtdxyz/flarum-ext-checkin/webpack/bootstrap","webpack://@gtdxyz/flarum-ext-checkin/webpack/runtime/compat get default export","webpack://@gtdxyz/flarum-ext-checkin/webpack/runtime/define property getters","webpack://@gtdxyz/flarum-ext-checkin/webpack/runtime/hasOwnProperty shorthand","webpack://@gtdxyz/flarum-ext-checkin/webpack/runtime/make namespace object","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['forum/app']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['extend']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['components/Button']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['Model']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['models/User']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/extend']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@gtdxyz/flarum-ext-checkin/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@gtdxyz/flarum-ext-checkin/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/Component']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/components/Button']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinButton.tsx","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['forum/components/HeaderSecondary']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['forum/components/NotificationsDropdown']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinList.tsx","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinModal.tsx","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['components/Page']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['Component']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['app']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinContent.tsx","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinHistoryPage.tsx","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['components/Modal']\"","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['utils/Stream']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinSuccessModal.js","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/components/CheckinFailedModal.js","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/Model']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/models/UserCheckinHistory.ts","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/states/CheckinListSate.ts","webpack://@gtdxyz/flarum-ext-checkin/external root \"flarum.core.compat['common/extenders']\"","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/extend.ts","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/index.js","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/CheckinSideItem.js","webpack://@gtdxyz/flarum-ext-checkin/./src/forum/CheckinHeader.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['models/User'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","import app from 'flarum/forum/app';\nimport Component, { ComponentAttrs } from 'flarum/common/Component';\nimport type dayjs from 'dayjs';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\nimport icon from 'flarum/common/helpers/icon';\n\nexport default class CheckinButton extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.state = this.attrs.state;\n    \n  }\n\n  view() {\n    const btn = this.state;\n\n    let checkinButtonText = app.translator.trans('gtdxyz-checkin.forum.checkin');\n    const checkin_days_count = app.session.user.attribute(\"checkin_days_count\");\n\n    if(btn === 'enabled'){\n        \n        return (\n        \n            Button.component({\n                icon: 'far fa-check-circle',\n                className: 'Button CheckinButton CheckinButton--active',\n                id:\"checkinButton\",\n                onclick: app.checkinClick,\n              }, checkinButtonText)\n              \n        );\n\n    } else {\n        checkinButtonText = app.translator.trans('gtdxyz-checkin.forum.checked-days', {count: checkin_days_count});\n        return (\n            Button.component({\n                icon: 'fas fa-check-square',\n                className: 'Button CheckinButton CheckinButton--checked',\n                disabled: true\n              }, checkinButtonText)\n        );\n    }\n    \n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/HeaderSecondary'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/NotificationsDropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport type dayjs from 'dayjs';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport CheckinButton from './CheckinButton';\nimport icon from 'flarum/common/helpers/icon';\n\n\nexport default class CheckinList extends Component {\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.state = this.attrs.state;\n    \n  }\n\n  getWeekdays() {\n    // for China, Monday/day(1) is first day\n    let displayDaysCount = 0;\n    let startday;\n    // if(app.forum.attribute('checkinConstant') === 1){\n    //   displayDaysCount = app.forum.attribute('checkinConstantDays');\n    //   startday = dayjs().subtract(displayDaysCount-1, 'day')\n    // } else {\n    //   startday = dayjs().day(1);\n    //   displayDaysCount = 7;\n    // }\n\n    let todayNum = dayjs().day();\n    if(todayNum === 0){\n      todayNum = 7;\n    }\n    startday = dayjs().subtract(todayNum-1,'day');\n    \n    displayDaysCount = 7;\n\n    const displayDays = [];\n    displayDays.push(startday.format('YYYY-MM-DD'));\n\n    let i = 1;\n    while(i <= displayDaysCount){\n      displayDays.push(startday.add(i, 'day').format('YYYY-MM-DD'));\n      i++;\n    }\n\n    return displayDays;\n  }\n\n  view() {\n    const checkins = this.state.cache || [];\n    const allowCheckin = app.session.user.attribute(\"allowCheckin\");\n    const displayDays = this.getWeekdays();\n    return (\n      <div className=\"NotificationList CheckinList\">\n        <div className=\"NotificationList-header\">\n          <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('gtdxyz-checkin.forum.reward-text')}</h4>\n        </div>\n        <div className=\"NotificationList-content\">\n          <ul className=\"NotificationGroup-content\">\n            {checkins.length > 0 ? (\n              checkins.map((checkinItem,indx) => {\n                const check_status = checkinItem.id()>0?'checked':'uncheck';\n\n                return (\n                  <li className={check_status + ' count-'+checkins.length} title={check_status}>\n                      \n                        {checkinItem.id() > 0 ? (\n                            <view>\n                              <div className=\"Notification-content\">\n                                <span>\n                                {dayjs(checkinItem.checkin_time()).format('MM/DD')}\n                                </span>\n                                <span>{dayjs(checkinItem.checkin_time()).format('ddd')}</span>\n                              </div>\n                              <div className=\"Notification-excerpt\">\n                                {icon('fas fa-star', { className: 'Notification-icon' })}\n                              </div>\n                            </view>\n                        ) : (\n                          <view>\n                            <div className=\"Notification-content\">\n                              <span>\n                              {dayjs(displayDays[indx]).format('MM/DD')}\n                              </span>\n                              <span>{dayjs(displayDays[indx]).format('ddd')}</span>\n                            </div>\n                            <div className=\"Notification-excerpt\">\n\n                              {dayjs().isAfter(displayDays[indx],'day') ? (\n                                icon('fas fa-minus', { className: 'Notification-icon' })\n                              ) : (\n                                icon('far fa-star', { className: 'Notification-icon' })\n                              )}\n\n                            </div>\n                          </view>\n                        )}\n                      \n                  </li>\n                );\n\n              })\n            ) : !this.state.loading ? (\n              <div className=\"NotificationList-empty\">{app.translator.trans('gtdxyz-checkin.forum.empty-text')}</div>\n            ) : (\n              <LoadingIndicator className=\"LoadingIndicator--block\" />\n            )}\n            \n          </ul>\n          <div className=\"subtitle\">\n            {app.translator.trans('gtdxyz-checkin.forum.count-text', {count: app.session.user.attribute('checkin_days_count')})} <br />\n            {\n              app.forum.attribute('checkinConstantForce')===1 && (\n                app.translator.trans('gtdxyz-checkin.forum.constant-recent-count-text', {count: app.session.user.attribute('checkin_constant_count')})\n              )\n            }\n          </div>\n          <div className=\"Form-group\">\n            {allowCheckin ? (\n              <CheckinButton state='enabled' />\n            ) : (\n              <CheckinButton state=\"disabled\" />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport NotificationsDropdown from 'flarum/forum/components/NotificationsDropdown';\nimport icon from 'flarum/common/helpers/icon';\nimport type Mithril from 'mithril';\nimport CheckinList from './CheckinList';\n\nexport default class CheckinModal extends NotificationsDropdown {\n  static initAttrs(attrs) {\n    attrs.label = attrs.label || app.translator.trans('gtdxyz-checkin.forum.checkin');\n    attrs.icon = attrs.icon || 'fas fa-calendar-alt';\n    attrs.menuClassName = 'forum-checkin';\n    super.initAttrs(attrs);\n  }\n\n  // getButtonContent(): Mithril.ChildArray {\n  //   const unread = this.getUnreadCount();\n\n  //   return [\n  //     this.attrs.icon ? <span className=\"Button-text\">{icon(this.attrs.icon, { className: 'Button-icon' })}{this.attrs.label}</span> : null,\n  //     unread !== 0 && <span className=\"NotificationsDropdown-unread\">{unread}</span>,\n  //     <span className=\"Button-label\">{this.attrs.label}</span>,\n  //   ];\n  // }\n\n  getMenu() {\n    return (\n      <div className={'Dropdown-menu ' + this.attrs.menuClassName} onclick={this.menuClick.bind(this)}>\n        {this.showing && <CheckinList state={this.attrs.state} />}\n      </div>\n    );\n  }\n\n  \n\n  goToRoute() {\n    m.route.set(app.route('UserCheckinRoute', {\n      username: app.session.user.username(),\n    }));\n  }\n\n  getUnreadCount() {\n    return 0;\n  }\n\n  getNewCount() {\n      return 0;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/LoadingIndicator'];","import Component from \"flarum/Component\";\nimport app from \"flarum/app\";\nimport type dayjs from 'dayjs';\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport icon from 'flarum/common/helpers/icon';\nimport CheckinButton from './CheckinButton';\n\nexport default class CheckinContent extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.state = this.attrs.state;\n  }\n\n  getWeekdays() {\n    // for China, Monday/day(1) is first day\n    let displayDaysCount = 0;\n    let startday;\n    // if(app.forum.attribute('checkinConstant') === 1){\n    //   displayDaysCount = app.forum.attribute('checkinConstantDays');\n    //   startday = dayjs().subtract(displayDaysCount-1, 'day')\n    // } else {\n    //   startday = dayjs().day(1);\n    //   displayDaysCount = 7;\n    // }\n\n    let todayNum = dayjs().day();\n    if(todayNum === 0){\n      todayNum = 7;\n    }\n    startday = dayjs().subtract(todayNum-1,'day');\n    \n    displayDaysCount = 7;\n\n    const displayDays = [];\n    displayDays.push(startday.format('YYYY-MM-DD'));\n\n    let i = 1;\n    while(i <= displayDaysCount){\n      displayDays.push(startday.add(i, 'day').format('YYYY-MM-DD'));\n      i++;\n    }\n\n    return displayDays;\n  }\n\n  view() {\n    const checkins = this.state.cache || [];\n\n    if(app.session.user){\n        const allowCheckin = app.session.user.attribute(\"allowCheckin\");\n        const displayDays = this.getWeekdays();\n        return (\n            <div className=\"Checkin-page NotificationList CheckinList\">\n                <div className=\"NotificationList-header\">\n                    <h4 className=\"App-titleControl App-titleControl--text\">{app.translator.trans('gtdxyz-checkin.forum.checkin')}</h4>\n                </div>\n                <div className=\"NotificationList-content\">\n                    <ul className=\"NotificationGroup-content\">\n                        {checkins.length > 0 ? (\n                        checkins.map((checkinItem,indx) => {\n                            const check_status = checkinItem.id()>0?'checked':'uncheck';\n\n                            return (\n                            <li className={check_status + ' count-'+checkins.length} title={check_status}>\n                                \n                                    {checkinItem.id() > 0 ? (\n                                        <view>\n                                        <div className=\"Notification-content\">\n                                            <span>\n                                            {dayjs(checkinItem.checkin_time()).format('MM/DD')}\n                                            </span>\n                                            <span>{dayjs(checkinItem.checkin_time()).format('ddd')}</span>\n                                        </div>\n                                        <div className=\"Notification-excerpt\">\n                                            {icon('fas fa-star', { className: 'Notification-icon' })}\n                                        </div>\n                                        </view>\n                                    ) : (\n                                    <view>\n                                        <div className=\"Notification-content\">\n                                        <span>\n                                        {dayjs(displayDays[indx]).format('MM/DD')}\n                                        </span>\n                                        <span>{dayjs(displayDays[indx]).format('ddd')}</span>\n                                        </div>\n                                        <div className=\"Notification-excerpt\">\n\n                                        {dayjs().isAfter(displayDays[indx],'day') ? (\n                                            icon('fas fa-minus', { className: 'Notification-icon' })\n                                        ) : (\n                                            icon('far fa-star', { className: 'Notification-icon' })\n                                        )}\n\n                                        </div>\n                                    </view>\n                                    )}\n                                \n                            </li>\n                            );\n\n                        })\n                        ) : !this.loading ? (\n                        <div className=\"NotificationList-empty\">{app.translator.trans('gtdxyz-checkin.forum.empty-text')}</div>\n                        ) : (\n                        <LoadingIndicator className=\"LoadingIndicator--block\" />\n                        )}\n                        \n                    </ul>\n                    <div className=\"subtitle\">\n                        {app.translator.trans('gtdxyz-checkin.forum.count-text', {count: app.session.user.attribute('checkin_days_count')})} <br />\n                        {\n                        app.forum.attribute('checkinConstantForce')===1 && (\n                            app.translator.trans('gtdxyz-checkin.forum.constant-recent-count-text', {count: app.session.user.attribute('checkin_constant_count')})\n                        )\n                        }\n                    </div>\n                    <div className=\"Form-group\">\n                        {allowCheckin ? (\n                        <CheckinButton state='enabled' />\n                        ) : (\n                        <CheckinButton state=\"disabled\" />\n                        )}\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/components/Page';\nimport CheckinContent from \"./CheckinContent\";\n\nexport default class CheckinHistoryPage extends Page {\n\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        app.history.push('UserCheckinRoute');\n\n        app.checkins.load();\n    }\n\n    oncreate(vnode) {\n      super.oncreate(vnode);\n      app.setTitle(app.translator.trans('gtdxyz-checkin.forum.checkin'));\n      \n    }\n\n    view() {\n      return (\n        <div>\n          <CheckinContent state={app.checkins}></CheckinContent>\n        </div>\n      );\n    }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/Stream'];","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport Stream from 'flarum/utils/Stream';\n\nexport default class checkinSuccessModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'CheckinModal Modal--small';\n  }\n\n  title() {\n    return (<div className=\"successTitle\">{app.translator.trans('gtdxyz-checkin.forum.success')}</div>);\n  }\n\n  content() {\n    //\n    const checkin_days_count = app.session.user.attribute(\"checkin_days_count\");\n    const checkinReward = app.forum.attribute(\"checkinReward\");\n    const checkinSuccessText = app.forum.attribute(\"checkinSuccessText\");\n    const checkinSuccessRewardText = app.forum.attribute(\"checkinSuccessRewardText\");\n    const moneyExtensionExist = app.forum.attribute('gtdxyz-money-plus.moneyname')!==undefined;\n\n    let moneyName = \"\";\n    let rewardText = \"\";\n    let successTextClassName = \"CheckinModal hideText\";\n    let rewardTextClassName = \"CheckinModal hideText\";\n\n    if(checkinSuccessText!==\"\"){\n      successTextClassName = \"CheckinModal successText\";\n    }\n\n    if(moneyExtensionExist===true && checkinSuccessRewardText!==\"\"){\n      moneyName = app.forum.attribute('gtdxyz-money-plus.moneyname') || 'MO';\n      rewardText = checkinReward + moneyName;\n      rewardTextClassName = \"CheckinModal rewardText\";\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <div className={successTextClassName}>{checkinSuccessText.replace('[days]', checkin_days_count+1)}</div>\n        <div className={rewardTextClassName}>{checkinSuccessRewardText.replace('[reward]', rewardText)}</div>\n      </div>\n    );\n  }\n}\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport Stream from 'flarum/utils/Stream';\n\nexport default class checkinFailedModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'CheckinModal Modal--small';\n  }\n\n  title() {\n    return (<div className=\"failedTitle\">{app.translator.trans('gtdxyz-checkin.forum.failed')}</div>);\n  }\n\n  content() {\n    //\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"modalText\">{app.translator.trans('gtdxyz-checkin.forum.try-again-later')}</div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\nimport type User from 'flarum/common/models/User';\n\nexport default class UserCheckinHistory extends Model {\n  // type() {\n  //   return Model.attribute<string>('type').call(this);\n  // }\n  // event_id() {\n  //   return Model.attribute<integer | null>('event_id').call(this);\n  // }\n  // reward_money() {\n  //   return Model.attribute<string | null>('reward_money').call(this);\n  // }\n  // checkin_time() {\n  //   return Model.attribute('checkin_time', Model.transformDate).call(this);\n  // }\n  \n  // user() {\n  //   return Model.hasOne<User | null>('user').call(this);\n  // }\n}\nObject.assign(UserCheckinHistory.prototype, {\n  user_id : Model.attribute('user_id'),\n  type : Model.attribute('type'),\n  event_id : Model.attribute('event_id'),\n  checkin_time : Model.attribute('checkin_time'),\n  reward_money : Model.attribute('reward_money'),\n  constant: Model.attribute('constant'),\n  remark: Model.attribute('remark'),\n  user : Model.hasOne('user'),\n})\n","import type dayjs from 'dayjs';\n\nexport default class CheckinListState {\n    constructor(app) {\n      this.app = app;\n  \n      /**\n       * Whether or not the list are loading.\n       *\n       * @type {Boolean}\n       */\n      this.loading = false;\n    }\n  \n    /**\n     * Load list into the application's cache if they haven't already\n     * been loaded.\n     */\n    load() {\n      \n      // if online cross 24H\n      if (this.cache && this.app.session.user.attribute('checkin_sync')) {\n        if(dayjs(this.app.session.user.attribute('checkin_sync')).isSame(dayjs().format('YYYY-MM-DD'),'day')){\n          return;\n        }\n      }\n\n      this.loading = true;\n      m.redraw();\n  \n      this.app.store\n        .find('checkin/history')\n        .then((checkins) => {\n          this.app.session.user.pushAttributes({ checkin_sync: dayjs().format('YYYY-MM-DD') });\n          this.cache = checkins;\n        })\n        .catch(() => {})\n        .then(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    }\n  }\n  ","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","import Extend from 'flarum/common/extenders';\nimport UserCheckinHistory from './models/UserCheckinHistory';\n\nexport default [\n  \n  new Extend.Store() //\n    .add('checkins', UserCheckinHistory),\n\n];\n","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/extend';\r\n\r\nimport Button from 'flarum/components/Button';\r\nimport Alert from 'flarum/common/components/Alert';\r\n\r\nimport Model from 'flarum/Model';\r\nimport User from 'flarum/models/User';\r\n\r\nimport CheckinSideItem from './CheckinSideItem';\r\nimport CheckinHeader from './CheckinHeader';\r\n\r\nimport CheckinHistoryPage from './components/CheckinHistoryPage';\r\nimport CheckInSuccessModal from './components/CheckinSuccessModal';\r\nimport CheckInFailedModal from './components/CheckinFailedModal';\r\n\r\nimport UserCheckinHistory from \"./models/UserCheckinHistory\";\r\nimport CheckinListState from \"./states/CheckinListSate\";\r\n\r\nexport { default as extend } from './extend';\r\n\r\napp.initializers.add('gtdxyz-checkin', () => {\r\n  \r\n  app.store.models.UserCheckinHistory = UserCheckinHistory;\r\n\r\n  app.routes.UserCheckinRoute = {\r\n    path: '/u/:username/checkin/history',\r\n    component: CheckinHistoryPage,\r\n  };\r\n\r\n  app.checkins = new CheckinListState(app);\r\n\r\n  User.prototype.canCheckin = Model.attribute('allowCheckin');\r\n\r\n  app.checkinClick = function() {\r\n    const checkin_days_count = app.session.user.attribute(\"checkin_days_count\");\r\n    const checkinReward = app.forum.attribute(\"checkinReward\");\r\n    const checkinSuccessType = app.forum.attribute(\"checkinSuccessType\");\r\n    const checkinSuccessText = app.forum.attribute(\"checkinSuccessText\");\r\n    const checkinSuccessRewardText = app.forum.attribute(\"checkinSuccessRewardText\");\r\n\r\n    const moneyExtensionExist = app.forum.attribute('gtdxyz-money-plus.moneyname') !== undefined;\r\n    let moneyName = \"\";\r\n    if(moneyExtensionExist === true){\r\n      moneyName = app.forum.attribute('gtdxyz-money-plus.moneyname') || 'MO';\r\n    }\r\n    \r\n    let error_text = app.translator.trans('gtdxyz-checkin.forum.failed')+\" \"+app.translator.trans('gtdxyz-checkin.forum.try-again-later');\r\n    app.session.user.save({allowCheckin:false,checkin_days_count:checkin_days_count+1})\r\n    .then(() => {\r\n      if(checkinSuccessType===1){\r\n        let rewardText = \"\";\r\n        if(checkinSuccessText!==\"\"){\r\n          const checkInSuccessText = checkinSuccessText.replace('[days]', checkin_days_count+1);\r\n          const successTextAlertKey = app.alerts.show({type: 'success'}, checkInSuccessText);\r\n        }\r\n\r\n        if(moneyExtensionExist===true && checkinSuccessRewardText!==\"\"){\r\n          rewardText = checkinReward + moneyName;\r\n          const checkInSuccessRewardText = checkinSuccessRewardText.replace('[reward]', rewardText);\r\n          const successRewardTextAlertKey = app.alerts.show({type: 'success'}, checkInSuccessRewardText);\r\n        }\r\n      }else if(checkinSuccessType===2){\r\n        app.modal.show(CheckInSuccessModal);\r\n      }\r\n    })\r\n    .catch((e) => {\r\n      const { errors } = JSON.parse(e.xhr.response);\r\n      if(errors.length > 0) {\r\n        error_text = errors[0]?.detail;\r\n      }\r\n      if(checkinSuccessType===1){\r\n        app.alerts.show({type: 'error'}, error_text);\r\n      }\r\n      if(checkinSuccessType===2){\r\n        app.modal.show(CheckInFailedModal);\r\n      }\r\n    });\r\n  };\r\n\r\n  CheckinSideItem();\r\n\r\n  CheckinHeader();\r\n  \r\n  \r\n});","\nimport { extend, override } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Button from 'flarum/components/Button';\nimport CheckinButton from './components/CheckinButton';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'sidebarItems', function(items) {\n\n      \n      let itemName = \"forum-checkin\";\n      \n      if(app.forum.attribute('checkinPosition') !== 1  && app.session.user !== null && app.forum.attribute('allowCheckin') === true){\n\n        let allowCheckin = app.session.user.attribute(\"allowCheckin\");\n\n        if(allowCheckin === true){\n          items.add(itemName, <CheckinButton state=\"enabled\" />,50);\n        }else{\n          items.add(itemName, <CheckinButton state=\"disabled\" />,50);\n        }\n      }\n\n    });\n\n}\n","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport HeaderSecondary from 'flarum/forum/components/HeaderSecondary';\nimport Button from 'flarum/components/Button';\nimport CheckinModal from './components/CheckinModal';\n\nexport default function () {\n\n  \n  extend(HeaderSecondary.prototype, 'items', (items) => {\n    \n    if(app.forum.attribute('checkinPosition') === 1 && app.session.user !== null && app.forum.attribute('allowCheckin') === true){\n      items.add('checkin', <CheckinModal state={app.checkins} />, 20);\n    }\n    \n  });\n}\n\n\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","CheckinButton","_Component","apply","arguments","_proto","oninit","vnode","this","state","attrs","view","btn","checkinButtonText","app","trans","checkin_days_count","user","attribute","Button","icon","className","id","onclick","count","disabled","Component","CheckinList","getWeekdays","startday","todayNum","dayjs","day","subtract","displayDays","push","format","i","add","checkins","cache","allowCheckin","m","length","map","checkinItem","indx","check_status","title","checkin_time","isAfter","loading","LoadingIndicator","CheckinModal","_NotificationsDropdow","initAttrs","label","menuClassName","getMenu","menuClick","bind","showing","goToRoute","route","set","username","getUnreadCount","getNewCount","NotificationsDropdown","CheckinContent","CheckinHistoryPage","_Page","load","oncreate","Page","checkinSuccessModal","_Modal","translator","content","session","checkinReward","forum","checkinSuccessText","checkinSuccessRewardText","rewardText","successTextClassName","rewardTextClassName","undefined","replace","Modal","checkinFailedModal","UserCheckinHistory","_Model","Model","assign","user_id","type","event_id","reward_money","constant","remark","CheckinListState","_this","isSame","redraw","store","find","then","pushAttributes","checkin_sync","Extend","models","UserCheckinRoute","path","component","User","canCheckin","checkinSuccessType","moneyExtensionExist","moneyName","error_text","save","checkInSuccessText","show","checkInSuccessRewardText","CheckInSuccessModal","e","_errors$","errors","JSON","parse","xhr","response","detail","CheckInFailedModal","extend","IndexPage","items","itemName","HeaderSecondary"],"sourceRoot":""}